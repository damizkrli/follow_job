{% extends 'base.html.twig' %}

{% block title %}Détail de la candidature{% endblock %}

{% block body %}
<div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
  <h1 class="text-2xl font-bold text-gray-800 mb-6">Détails de la candidature</h1>

  <div class="w-full rounded-lg shadow border border-gray-200 bg-white">
    <table class="w-full divide-y divide-gray-200 text-sm table-auto">
      <tbody class="divide-y divide-gray-100">
        <tr>
          <th scope="row" class="bg-gray-50 px-6 py-4 text-gray-600 font-medium">
            Intitulé du poste
          </th>
          <td class="px-6 py-4 text-gray-800">{{ application.jobTitle }}</td>
        </tr>
        <tr>
          <th scope="row" class="bg-gray-50 px-6 py-4 text-gray-600 font-medium">
            Date d'envoi
          </th>
          <td class="px-6 py-4 text-gray-800">
            {{ application.sent ? application.sent|date('d/m/Y à H:i') : '—' }}
          </td>
        </tr>
        <tr>
          <th scope="row" class="bg-gray-50 px-6 py-4 text-gray-600 font-medium">
            Réponse
          </th>
          <td class="px-6 py-4 text-gray-800">
            {{ application.response ? application.response|date('d/m/Y à H:i') : '—' }}
          </td>
        </tr>
        <tr>
          <th scope="row" class="bg-gray-50 px-6 py-4 text-gray-600 font-medium">
            Lien
          </th>
          <td class="px-6 py-4 text-blue-600 hover:underline">
            <a href="{{ application.link }}" target="_blank">{{ application.link }}</a>
          </td>
        </tr>
        <tr>
          <th scope="row" class="bg-gray-50 px-6 py-4 text-gray-600 font-medium">
            Entreprise
          </th>
          <td class="px-6 py-4 text-gray-800">{{ application.company }}</td>
        </tr>
        <tr>
          <th scope="row" class="bg-gray-50 px-6 py-4 text-gray-600 font-medium">
            Plateforme
          </th>
          <td class="px-6 py-4 text-gray-800">{{ application.jobboard }}</td>
        </tr>
        <tr>
          <th scope="row" class="bg-gray-50 px-6 py-4 text-gray-600 font-medium">
            Note
          </th>
          <td class="px-6 py-4 text-gray-800 leading-relaxed">
            {{ application.note | raw }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="flex flex-wrap gap-3 mt-6">
    <a href="{{ path('app_application_index') }}" class="inline-flex items-center px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded text-sm shadow">
      Retour à la liste
    </a>

    <a href="{{ path('app_application_edit', { id: application.id }) }}" class="inline-flex items-center px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm shadow">
      Modifier
    </a>

    {{ include("application/_delete_form.html.twig") }}
  </div>
</div>
{% endblock %}
